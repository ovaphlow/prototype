const classes = [
    {
        wiki: "https://bg3.wiki/wiki/Barbarian",
        en: "Barbarian",
        zhCN: "野蛮人",
        image: "https://bg3.wiki/w/images/thumb/4/41/Class_Barbarian_Badge_Icon.png/160px-Class_Barbarian_Badge_Icon.png",
        level2ChooseSubclass: 3,
        subclasses: [
            {
                wiki: "https://bg3.wiki/wiki/Berserker",
                en: "Berserker",
                zhCN: "狂战士",
                image: "https://bg3.wiki/w/images/thumb/6/62/Class_Barbarian_Berserker_Badge_Icon.png/160px-Class_Barbarian_Berserker_Badge_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Wildheart",
                en: "Wildheart",
                zhCN: "野性之心",
                image: "https://bg3.wiki/w/images/thumb/2/2a/Class_Barbarian_Wildheart_Badge_Icon.png/160px-Class_Barbarian_Wildheart_Badge_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Wild_Magic_Barbarian",
                en: "Wild Magic",
                zhCN: "狂野魔法",
                image: "https://bg3.wiki/w/images/thumb/e/ef/Wild_Magic_Barbarian_Subclass_Icon.png/160px-Wild_Magic_Barbarian_Subclass_Icon.png",
            },
        ],
    },
    {
        wiki: "https://bg3.wiki/wiki/Bard",
        en: "Bard",
        zhCN: "吟游诗人",
        image: "https://bg3.wiki/w/images/thumb/3/38/Class_Bard_Badge_Icon.png/160px-Class_Bard_Badge_Icon.png",
        level2ChooseSubclass: 2,
        subclasses: [
            {
                wiki: "https://bg3.wiki/wiki/College_of_Lore",
                en: "College of Lore",
                zhCN: "逸闻学院",
                image: "https://bg3.wiki/w/images/thumb/0/03/College_Of_Lore_Icon.png/160px-College_Of_Lore_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/College_of_Valor",
                en: "College of Valor",
                zhCN: "勇气学院",
                image: "https://bg3.wiki/w/images/thumb/6/65/Class_Bard_Valour_Badge_Icon.png/160px-Class_Bard_Valour_Badge_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/College_of_Swords",
                en: "College of Swords",
                zhCN: "剑刃学院",
                image: "https://bg3.wiki/w/images/thumb/5/54/Class_Bard_Swords_Badge_Icon.png/160px-Class_Bard_Swords_Badge_Icon.png",
            },
        ],
    },
    {
        wiki: "https://bg3.wiki/wiki/Cleric",
        en: "Cleric",
        zhCN: "牧师",
        image: "https://bg3.wiki/w/images/thumb/a/ac/Class_Cleric_Badge_Icon.png/160px-Class_Cleric_Badge_Icon.png",
        level2ChooseSubclass: 2,
        subclasses: [
            {
                wiki: "https://bg3.wiki/wiki/Life_Domain",
                en: "Life Domain",
                zhCN: "生命领域",
                image: "https://bg3.wiki/w/images/thumb/9/98/Class_Cleric_Life_Badge_Icon.png/160px-Class_Cleric_Life_Badge_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Light_Domain",
                en: "Light Domain",
                zhCN: "光明领域",
                image: "https://bg3.wiki/w/images/thumb/5/5a/Light_Domain_Subclass_300px.png/160px-Light_Domain_Subclass_300px.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Knowledge_Domain",
                en: "Knowledge Domain",
                zhCN: "知识领域",
                image: "https://bg3.wiki/w/images/thumb/6/65/Knowledge_Domain_Icon.png/160px-Knowledge_Domain_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Nature_Domain",
                en: "Nature Domain",
                zhCN: "自然领域",
                image: "https://bg3.wiki/w/images/thumb/d/d3/Nature_Domain_Icon.png/160px-Nature_Domain_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Tempest_Domain",
                en: "Tempest Domain",
                zhCN: "风暴领域",
                image: "https://bg3.wiki/w/images/thumb/6/65/Tempest_Domain_Icon.png/160px-Tempest_Domain_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Trickery_Domain",
                en: "Trickery Domain",
                zhCN: "诡诈领域",
                image: "https://bg3.wiki/w/images/thumb/a/ac/Class_Cleric_Trickery_Badge_Icon.png/160px-Class_Cleric_Trickery_Badge_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/War_Domain",
                en: "War Domain",
                zhCN: "战争领域",
                image: "https://bg3.wiki/w/images/thumb/6/65/War_Domain_Icon.png/160px-War_Domain_Icon.png",
            },
        ],
    },
    {
        wiki: "https://bg3.wiki/wiki/Druid",
        en: "Druid",
        zhCN: "德鲁伊",
        image: "https://bg3.wiki/w/images/thumb/c/c9/Class_Druid_Badge_Icon.png/160px-Class_Druid_Badge_Icon.png",
        level2ChooseSubclass: 2,
        subclasses: [
            {
                wiki: "https://bg3.wiki/wiki/Circle_of_the_Land",
                en: "Circle of the Land",
                zhCN: "大地结社",
                image: "https://bg3.wiki/w/images/thumb/c/c1/Class_Druid_Land_Badge_Icon.png/160px-Class_Druid_Land_Badge_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Circle_of_the_Moon",
                en: "Circle of the Moon",
                zhCN: "月亮结社",
                image: "https://bg3.wiki/w/images/thumb/4/45/Class_Druid_Moon_Badge_Icon.png/160px-Class_Druid_Moon_Badge_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Circle_of_the_Spores",
                en: "Circle of Spores",
                zhCN: "孢子结社",
                image: "https://bg3.wiki/w/images/thumb/0/05/Class_Druid_Spores_Badge_Icon.png/160px-Class_Druid_Spores_Badge_Icon.png",
            },
        ],
    },
    {
        wiki: "https://bg3.wiki/wiki/Fighter",
        en: "Fighter",
        zhCN: "战士",
        image: "https://bg3.wiki/w/images/thumb/2/21/Class_Fighter_Badge_Icon.png/160px-Class_Fighter_Badge_Icon.png",
        level2ChooseSubclass: 3,
        subclasses: [
            {
                wiki: "https://bg3.wiki/wiki/Battle_Master",
                en: "Battle Master",
                zhCN: "战斗大师",
                image: "https://bg3.wiki/w/images/thumb/3/35/Class_Fighter_Battle_Master_Badge_Icon.png/160px-Class_Fighter_Battle_Master_Badge_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Eldritch_Knight",
                en: "Eldritch Knight",
                zhCN: "奥术骑士",
                image: "https://bg3.wiki/w/images/thumb/9/93/Class_Fighter_Eldritch_Knight_Badge_Icon.png/160px-Class_Fighter_Eldritch_Knight_Badge_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Champion",
                en: "Champion",
                zhCN: "冠军勇士",
                image: "https://bg3.wiki/w/images/thumb/1/16/Class_Fighter_Champion_Badge_Icon.png/160px-Class_Fighter_Champion_Badge_Icon.png",
            },
        ],
    },
    {
        wiki: "https://bg3.wiki/wiki/Monk",
        en: "Monk",
        zhCN: "武僧",
        image: "https://bg3.wiki/w/images/thumb/9/93/Class_Monk_Badge_Icon.png/160px-Class_Monk_Badge_Icon.png",
        level2ChooseSubclass: 3,
        subclasses: [
            {
                wiki: "https://bg3.wiki/wiki/Way_of_Shadow",
                en: "Way of Shadow",
                zhCN: "暗影宗",
                image: "https://bg3.wiki/w/images/thumb/a/a6/Class_Monk_Shadow_Badge_Icon.png/160px-Class_Monk_Shadow_Badge_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Way_of_the_Four_Elements",
                en: "Way of the Four Elements",
                zhCN: "四象宗",
                image: "https://bg3.wiki/w/images/thumb/0/01/Class_Monk_Four_Elements_Badge_Icon.png/160px-Class_Monk_Four_Elements_Badge_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Way_of_the_Open_Hand",
                en: "Way of the Open Hand",
                zhCN: "散打宗",
                image: "https://bg3.wiki/w/images/thumb/c/c6/Class_Monk_Open_Hand_Badge_Icon.png/160px-Class_Monk_Open_Hand_Badge_Icon.png",
            },
        ],
    },
    {
        wiki: "https://bg3.wiki/wiki/Paladin",
        en: "Paladin",
        zhCN: "圣武士",
        image: "https://bg3.wiki/w/images/thumb/5/56/Paladin_Class_Icon.png/160px-Paladin_Class_Icon.png",
        level2ChooseSubclass: 1,
        subclasses: [
            {
                wiki: "https://bg3.wiki/wiki/Oath_of_the_Ancients",
                en: "Oath of the Ancients",
                zhCN: "古贤之誓",
                image: "https://bg3.wiki/w/images/thumb/2/22/Paladin_Oath_of_the_Ancients_Icon.png/160px-Paladin_Oath_of_the_Ancients_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Oath_of_Devotion",
                en: "Oath of Devotion",
                zhCN: "奉献之誓",
                image: "https://bg3.wiki/w/images/thumb/2/2c/Paladin_Oath_of_Devotion_Icon.png/160px-Paladin_Oath_of_Devotion_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Oath_of_Vengeance",
                en: "Oath of Vengeance",
                zhCN: "复仇之誓",
                image: "https://bg3.wiki/w/images/thumb/4/48/Paladin_Oath_of_Vengeance.png/160px-Paladin_Oath_of_Vengeance.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Oathbreaker",
                en: "Oathbreaker",
                zhCN: "破誓者",
                image: "https://bg3.wiki/w/images/thumb/8/87/Paladin_Oathbreaker_Icon.png/160px-Paladin_Oathbreaker_Icon.png",
            },
        ],
    },
    {
        wiki: "https://bg3.wiki/wiki/Oathbreaker",
        en: "Ranger",
        zhCN: "游侠",
        image: "https://bg3.wiki/w/images/thumb/f/f5/Class_Ranger_Badge_Icon.png/160px-Class_Ranger_Badge_Icon.png",
        level2ChooseSubclass: 3,
        subclasses: [
            {
                wiki: "https://bg3.wiki/wiki/Hunter",
                en: "Hunter",
                zhCN: "猎人",
                image: "https://bg3.wiki/w/images/thumb/c/c1/Class_Ranger_Hunter_Badge_Icon.png/160px-Class_Ranger_Hunter_Badge_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Beast_Master",
                en: "Beast Master",
                zhCN: "驯兽师",
                image: "https://bg3.wiki/w/images/thumb/2/26/Class_Ranger_Beast_Master_Badge_Icon.png/160px-Class_Ranger_Beast_Master_Badge_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Gloom_Stalker",
                en: "Gloom Stalker",
                zhCN: "幽影追猎者",
                image: "https://bg3.wiki/w/images/thumb/a/a6/Gloom_Stalker_Icon.png/160px-Gloom_Stalker_Icon.png",
            },
        ],
    },
    {
        wiki: "https://bg3.wiki/wiki/Rogue",
        en: "Rogue",
        zhCN: "游荡者",
        image: "https://bg3.wiki/w/images/thumb/d/da/Class_Rogue_Badge_Icon.png/160px-Class_Rogue_Badge_Icon.png",
        level2ChooseSubclass: 3,
        subclasses: [
            {
                wiki: "https://bg3.wiki/wiki/Arcane_Trickster",
                en: "Arcane Trickster",
                zhCN: "诡术师",
                image: "https://bg3.wiki/w/images/thumb/f/fd/Class_Rogue_Arcane_Trickster_Badge_Icon.png/160px-Class_Rogue_Arcane_Trickster_Badge_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Assasin",
                en: "Assasin",
                zhCN: "刺客",
                image: "https://bg3.wiki/w/images/thumb/d/d1/Class_Rogue_Thief_Badge_Icon.png/160px-Class_Rogue_Thief_Badge_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Thief",
                en: "Thief",
                zhCN: "盗贼",
                image: "https://bg3.wiki/w/images/thumb/d/df/Class_Rogue_Assassin_Badge_Icon.png/160px-Class_Rogue_Assassin_Badge_Icon.png",
            },
        ],
    },
    {
        wiki: "https://bg3.wiki/wiki/Sorcerer",
        en: "Sorcerer",
        zhCN: "术士",
        image: "https://bg3.wiki/w/images/thumb/a/a8/Sorcerer_Class_Icon.png/160px-Sorcerer_Class_Icon.png",
        level2ChooseSubclass: 1,
        subclasses: [
            {
                wiki: "https://bg3.wiki/wiki/Draconic_Bloodline",
                en: "Draconic Bloodline",
                zhCN: "龙族血脉",
                image: "https://bg3.wiki/w/images/thumb/1/14/Class_Sorcerer_Draconic_Bloodline_Badge_Icon.png/160px-Class_Sorcerer_Draconic_Bloodline_Badge_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Strom_Sorcerer",
                en: "Storm Sorcerer",
                zhCN: "风暴术士",
                image: "https://bg3.wiki/w/images/thumb/e/ef/Storm_Sorcery_Subclass_Icon.png/160px-Storm_Sorcery_Subclass_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Wild_Magic",
                en: "Wild Magic",
                zhCN: "狂野魔法",
                image: "https://bg3.wiki/w/images/thumb/7/79/Class_Sorcerer_Wild_Magic_Badge_Icon.png/160px-Class_Sorcerer_Wild_Magic_Badge_Icon.png",
            },
        ],
    },
    {
        wiki: "https://bg3.wiki/wiki/Warlock",
        en: "Warlock",
        zhCN: "邪术师",
        image: "https://bg3.wiki/w/images/thumb/6/66/Class_Warlock_Badge_Icon.png/160px-Class_Warlock_Badge_Icon.png",
        level2ChooseSubclass: 1,
        subclasses: [
            {
                wiki: "https://bg3.wiki/wiki/The_Fiend",
                en: "The Fiend",
                zhCN: "邪魔宗主",
                image: "https://bg3.wiki/w/images/thumb/c/c7/Class_Warlock_Fiend_Badge_Icon.png/160px-Class_Warlock_Fiend_Badge_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/The_Great_Old_One",
                en: "The Great Old One",
                zhCN: "旧日支配者宗主",
                image: "https://bg3.wiki/w/images/thumb/4/4f/Class_Warlock_Great_Old_One_Badge_Icon.png/160px-Class_Warlock_Great_Old_One_Badge_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/The_Archfey",
                en: "The Archfey",
                zhCN: "至高妖精宗主",
                image: "https://bg3.wiki/w/images/thumb/a/a2/Class_Warlock_Archfey_Badge_Icon.png/160px-Class_Warlock_Archfey_Badge_Icon.png",
            },
        ],
    },
    {
        wiki: "https://bg3.wiki/wiki/Wizard",
        en: "Wizard",
        zhCN: "法师",
        image: "https://bg3.wiki/w/images/thumb/d/d9/Class_Wizard_Badge_Icon.png/160px-Class_Wizard_Badge_Icon.png",
        level2ChooseSubclass: 2,
        subclasses: [
            {
                wiki: "https://bg3.wiki/wiki/Abjuration_School",
                en: "Abjuration",
                zhCN: "防护学派",
                image: "https://bg3.wiki/w/images/thumb/e/ee/Class_Wizard_Abjuration_Badge_Icon.png/160px-Class_Wizard_Abjuration_Badge_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Conjuration_School",
                en: "Conjuration",
                zhCN: "咒法学派",
                image: "https://bg3.wiki/w/images/thumb/b/bc/Class_Wizard_Conjuration_Badge_Icon.png/160px-Class_Wizard_Conjuration_Badge_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Divination_School",
                en: "Divination",
                zhCN: "预言学派",
                image: "https://bg3.wiki/w/images/thumb/5/5c/Class_Wizard_Divination_Badge_Icon.png/160px-Class_Wizard_Divination_Badge_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Enchantment_School",
                en: "Enchantment",
                zhCN: "附魔学派",
                image: "https://bg3.wiki/w/images/thumb/e/e8/Class_Wizard_Enchantment_Badge_Icon.png/160px-Class_Wizard_Enchantment_Badge_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Evocation_School",
                en: "Evocation",
                zhCN: "塑能学派",
                image: "https://bg3.wiki/w/images/thumb/8/81/Class_Wizard_Evocation_Badge_Icon.png/160px-Class_Wizard_Evocation_Badge_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Illusion_School",
                en: "Illusion",
                zhCN: "幻术学派",
                image: "https://bg3.wiki/w/images/thumb/b/b2/Class_Wizard_Illusion_Badge_Icon.png/160px-Class_Wizard_Illusion_Badge_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Necromancy_School",
                en: "Necromancy",
                zhCN: "死灵学派",
                image: "https://bg3.wiki/w/images/thumb/6/6a/Class_Wizard_Necromancy_Badge_Icon.png/160px-Class_Wizard_Necromancy_Badge_Icon.png",
            },
            {
                wiki: "https://bg3.wiki/wiki/Transmutation_School",
                en: "Transmutation",
                zhCN: "变化学派",
                image: "https://bg3.wiki/w/images/thumb/c/cb/Class_Wizard_Transmutation_Badge_Icon.png/160px-Class_Wizard_Transmutation_Badge_Icon.png",
            },
        ],
    },
];

export const listClasses = () => classes.map((c) => Object.assign({
    title: c["zhCN"],
    image: c.image
}));

/**
 * @param {string} className
 * @returns
 */
export const listSubclasses = (className) => classes.find((c) => c["zhCN"] === className)?.subclasses;

/**
 * @param {number} level
 * @param {string} className
 * @param {Array<number>} abilities
 */
export function calcSpellSlots(level, className, abilities) {
    let result = { cantrip: 0, spell: 0 };
    if (className === "吟游诗人") {
        if (level >= 1 && level <= 3) {
            result.cantrip = 2;
        } else if (level >= 4 && level <= 9) {
            result.cantrip = 3;
        } else if (level >= 10 && level <= 12) {
            result.cantrip = 4;
        }
        result.spell = level + 3;
        return result;
    }
    if (className === "牧师" || className === "德鲁伊") {
        if (level >= 1 && level <= 3) {
            result.cantrip = 2;
        } else if (level >= 4 && level <= 9) {
            result.cantrip = 3;
        } else if (level >= 10 && level <= 12) {
            result.cantrip = 4;
        }
        const p = level + abilities[4];
        result.spell = p > 1 ? p : 1;
        return result;
    }
    if (className === "术士") {
        if (level >= 1 && level <= 3) {
            result.cantrip = 4;
        } else if (level >= 4 && level <= 9) {
            result.cantrip = 5;
        } else if (level >= 10 && level <= 12) {
            result.cantrip = 6;
        }
        result.spell = level + 1;
        return result;
    }
    if (className === "邪术师") {
        if (level >= 1 && level <= 3) {
            result.cantrip = 2;
        } else if (level >= 4 && level <= 9) {
            result.cantrip = 3;
        } else if (level >= 10 && level <= 12) {
            result.cantrip = 4;
        }
        result.spell = level + 1;
        return result;
    }
    if (className === "法师") {
        if (level >= 1 && level <= 3) {
            result.cantrip = 2;
        } else if (level >= 4 && level <= 9) {
            result.cantrip = 3;
        } else if (level >= 10 && level <= 12) {
            result.cantrip = 4;
        }
        const p = level + abilities[3];
        result.spell = p > 1 ? p : 1;
        return result;
    }
    if (className === "圣武士") {
        const p = level + abilities[5];
        result.spell = p > 1 ? p : 1;
        return result;
    }
    if (className === "游侠") {
        // let a = Math.floor()
        return result;
    }
}
